{"version":3,"file":"component---src-pages-publications-index-js-028e940c4b643eac686c.js","mappings":"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","sources":["webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://gatsby-starter-default/./src/components/publications/sort-articles.js","webpack://gatsby-starter-default/./src/components/publications/list.js","webpack://gatsby-starter-default/./src/components/publications/publications.js","webpack://gatsby-starter-default/./src/components/publications/publications-container.js","webpack://gatsby-starter-default/./src/pages/publications/index.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","const sortByYear = (articles) => (\r\n  Object.entries(articles).reduce((accum, [year, arr]) => ({\r\n    ...accum,\r\n    [year]: arr.sort((a, b) => (a.pmid < b.pmid ? 1 : -1)),\r\n  }), {})\r\n);\r\n\r\nconst sortArticles = (articles) => {\r\n  const articlesByYear = articles.reduce((accum, article) => {\r\n    if (accum[article.year]) {\r\n      return {\r\n        ...accum,\r\n        [article.year]: [\r\n          ...accum[article.year],\r\n          article,\r\n        ],\r\n      };\r\n    }\r\n    return {\r\n      ...accum,\r\n      [article.year]: [article],\r\n    };\r\n  }, {});\r\n\r\n  return sortByYear(articlesByYear);\r\n};\r\n\r\nmodule.exports = sortArticles;\r\n","import PropTypes from 'prop-types';\r\nimport React, { Fragment } from 'react';\r\n\r\nimport Link from '../link/link';\r\n\r\nconst createAuthorSeparator = (index, numberOfAuthors) => {\r\n  if (numberOfAuthors === 1 || index === numberOfAuthors - 1) {\r\n    return '';\r\n  } if (index < numberOfAuthors - 2) {\r\n    return ', ';\r\n  }\r\n  return ' and ';\r\n};\r\n\r\nconst formatAuthors = (authors, title) => {\r\n  const numberOfAuthors = authors.length;\r\n  return authors.map((author, index) => {\r\n    return (\r\n      <Fragment key={`${author}-${title}`}>\r\n        {author}\r\n        {createAuthorSeparator(index, numberOfAuthors)}\r\n      </Fragment>\r\n    );\r\n  });\r\n};\r\n\r\nconst formatPages = (article) => {\r\n  if (article.volume && article.issue && article.pages) {\r\n    return `, ${article.volume}(${article.issue}): ${article.pages}`;\r\n  } if (article.volume && article.pages) {\r\n    return `, ${article.volume}: ${article.pages}`;\r\n  } if (article.pages) {\r\n    return `, ${article.pages}`;\r\n  }\r\n  return '';\r\n};\r\n\r\nconst formatTitle = (title) => title.replace(/&lt;.+?&gt;/g, '');\r\n\r\nconst formatItem = (article) => (\r\n  <li key={article.title}>\r\n    {formatAuthors(article.authors, article.title)}\r\n    .\r\n    {' '}\r\n    <strong>{formatTitle(article.title)}</strong>\r\n    {' '}\r\n    <em>{article.journal}</em>\r\n    .\r\n    {' '}\r\n    {article.year}\r\n    {formatPages(article)}\r\n    .\r\n    {' '}\r\n    <Link to={`https://www.ncbi.nlm.nih.gov/pubmed/${article.pmid}`}>\r\n      PMID:\r\n      {' '}\r\n      {article.pmid}\r\n    </Link>\r\n    .\r\n  </li>\r\n);\r\n\r\nconst PublicationList = ({\r\n  publications,\r\n}) => {\r\n  const yearOrder = Object.keys(publications).sort((a, b) => (Number(a) < Number(b) ? 1 : -1));\r\n\r\n  return (\r\n    <>\r\n      <div className=\"publications__links-year\">\r\n        {\r\n          yearOrder.map((year) => (\r\n            <Link\r\n              key={year}\r\n              to={`/publications/#${year}`}\r\n            >\r\n              {year}\r\n            </Link>\r\n          ))\r\n        }\r\n      </div>\r\n      {\r\n        yearOrder.map((year) => {\r\n          const items = publications[year].map((article) => formatItem(article));\r\n          return (\r\n            <div key={year}>\r\n              <h2 id={year}>{year}</h2>\r\n              <ul>{items}</ul>\r\n            </div>\r\n          );\r\n        })\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nPublicationList.propTypes = {\r\n  publications: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default PublicationList;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBook } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport './publications.css';\r\nimport PublicationList from './list';\r\n\r\nconst Publications = ({ publications }) => (\r\n  <div className=\"publications\">\r\n    <section>\r\n      <header>\r\n        <h1>\r\n          Publications\r\n        </h1>\r\n        <FontAwesomeIcon icon={faBook} size=\"2x\" />\r\n      </header>\r\n      <PublicationList publications={publications} />\r\n    </section>\r\n  </div>\r\n);\r\n\r\nPublications.propTypes = {\r\n  publications: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default Publications;\r\n","import React from 'react';\r\nimport { useStaticQuery, graphql } from 'gatsby';\r\n\r\nimport Publications from './publications';\r\n\r\nimport sortArticles from './sort-articles';\r\n\r\nconst PublicationsContainer = () => {\r\n  const query = useStaticQuery(\r\n    graphql`\r\n      query {\r\n        publications(list: {elemMatch: {title: {regex: \"/.*/\"}}}) {\r\n          list{\r\n            authors\r\n            journal\r\n            issue\r\n            pages\r\n            pmid\r\n            title\r\n            volume\r\n            year\r\n          }\r\n        }\r\n      }\r\n    `,\r\n  );\r\n\r\n  const publicationsByYear = query.publications && query.publications.list.length > 0\r\n    ? sortArticles(query.publications.list)\r\n    : null;\r\n\r\n  return (\r\n    publicationsByYear\r\n    && <Publications publications={publicationsByYear} />\r\n  );\r\n};\r\n\r\nexport default PublicationsContainer;\r\n","import React from 'react';\r\n\r\nimport Layout from '../../components/layout/layout';\r\nimport Publications from '../../components/publications/publications-container';\r\nimport SEO from '../../components/seo/seo';\r\n\r\nconst IndexPage = () => (\r\n  <Layout>\r\n    <SEO title=\"Publications\" />\r\n    <Publications />\r\n  </Layout>\r\n);\r\n\r\nexport default IndexPage;\r\n"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","arrayLikeToArray","isArray","iter","Symbol","iterator","from","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","articles","entries","reduce","accum","year","sort","a","b","pmid","sortByYear","article","formatItem","key","title","authors","numberOfAuthors","map","author","index","Fragment","createAuthorSeparator","replace","formatTitle","journal","volume","issue","pages","formatPages","to","publications","yearOrder","keys","Number","className","items","id","icon","faBook","size","query","useStaticQuery","publicationsByYear","list","sortArticles"],"sourceRoot":""}